document.addEventListener("DOMContentLoaded",()=>{const s=document.querySelectorAll(".fade-in"),o=window.innerWidth<=768;if(window.innerWidth<=480){s.forEach(e=>e.classList.add("show"));return}const i=new IntersectionObserver(e=>{e.forEach(c=>{c.isIntersecting&&c.target.classList.add("show")})},{threshold:o?.1:.2,rootMargin:o?"0px 0px -50px 0px":"0px 0px -100px 0px"});s.forEach(e=>i.observe(e)),o&&setTimeout(()=>{s.forEach(e=>{e.classList.contains("show")||(e.classList.add("show"),console.log("Force show element:",e.id||e.className))})},2e3);let l;window.addEventListener("resize",()=>{clearTimeout(l),l=setTimeout(()=>{i.disconnect(),s.forEach(e=>i.observe(e))},250)});const a=document.getElementById("menuBubble"),t=document.getElementById("mobileMenu"),n=document.getElementById("mobileMenuPanel"),r=document.getElementById("closeMenu");a.addEventListener("click",()=>{t.classList.remove("hidden"),setTimeout(()=>{n.classList.remove("translate-x-full")},10)}),r.addEventListener("click",()=>{n.classList.add("translate-x-full"),setTimeout(()=>t.classList.add("hidden"),300)}),document.querySelectorAll("#mobileMenu nav a").forEach(e=>{e.addEventListener("click",()=>{n.classList.add("translate-x-full"),setTimeout(()=>t.classList.add("hidden"),300)})}),t.addEventListener("click",e=>{e.target===t&&(n.classList.add("translate-x-full"),setTimeout(()=>t.classList.add("hidden"),300))});const d=document.getElementById("backToTop");window.addEventListener("scroll",()=>{window.scrollY>50?d.classList.remove("hidden"):d.classList.add("hidden")}),d.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})});
